jQuery(document).ready((function(e){var n,i,t,s=e(".custom_color_row"),a=e(".preset_samples");e('select[name="color_set"]').on("change",(function(){var o=e(this).val();if(0==o)s.show(),a.hide();else for(t in s.hide(),a.show(),app_i10n.classes)if(app_i10n.classes.hasOwnProperty(t)){for(n=[],i=1;i<=3;i++)n[i]=app_i10n.presets[t][i];a.find("a."+t).css("background-color","#"+n[o])}}));var o=e(".colorpicker_input");function c(n,i){e.post(ajaxurl,n,(function(n){n.success&&i.detach();var t='<div class="notice notice-'+(n.success?"success":"error")+' is-dismissible"><p>'+n.data.message+"</p></div>";e(".appointments-settings h1").after(t)}))}o.each((function(){var n=this.id;e("#"+n).ColorPicker({onSubmit:function(n,i,t,s){e(s).val(i),e(s).ColorPickerHide()},onBeforeShow:function(){e(this).ColorPickerSetColor(this.value)},onChange:function(i,t,s){var a=e("#"+n);a.val(t),a.parent().find("a.pickcolor").css("background-color","#"+t)}}).bind("keyup",(function(){e(this).ColorPickerSetColor(this.value)}))})),o.keyup((function(){var n=e(this).val();3!==(n=n.replace(/[^a-fA-F0-9]/,"")).length&&6!==n.length||e(this).parent().find("a.pickcolor").css("background-color","#"+n)})),e("#app-settings-section-new-worker form.add-new-service-provider").on("submit",(function(){var n=e(this);if(null==e("#services_provided",n).val())return alert(app_i10n.messages.select_service_provider),!1})),e(".appointment-create-page a.button").on("click",(function(){var n=e("select",e(this).closest("td")).val(),i={action:e(this).data("action"),_wpnonce:e(this).data("nonce"),app_page_type:n};return e.post(ajaxurl,i,(function(n){var i='<div class="notice '+(n.success?"updated":"error")+'"><p>'+n.data.message+"</p></div>";e(".appointments-settings h1").after(i)})),!1})),e(document).on("click",".wp-list-table.services .delete a",(function(){if(window.confirm(app_i10n.messages.service.delete_confirmation)){var n=e(this).closest("tr");c({action:"delete_service",nonce:e(this).data("nonce"),id:e(this).data("id")},n)}})),e(document).on("click","#app-settings-section-services input.action",(function(){e(this).closest("form");var n=e(".check-column input:checked"),i=e("select",e(this).parent()).val();return 0===n.length?(window.alert(app_i10n.messages.bulk_actions.no_items),!1):"-1"===i?(window.alert(app_i10n.messages.bulk_actions.no_action),!1):!!window.confirm(app_i10n.messages.services.delete_confirmation)&&void 0})),e(document).on("click",".wp-list-table.workers .delete a",(function(){if(window.confirm(app_i10n.messages.workers.delete_confirmation)){var n=e(this).closest("tr");c({action:"delete_worker",nonce:e(this).data("nonce"),id:e(this).data("id")},n)}})),e(document).on("click","#app-settings-section-workers input.action",(function(){e(this).closest("form");var n=e(".check-column input:checked"),i=e("select",e(this).parent()).val();return 0===n.length?(window.alert(app_i10n.messages.bulk_actions.no_items),!1):"-1"===i?(window.alert(app_i10n.messages.bulk_actions.no_action),!1):!!window.confirm(app_i10n.messages.workers.delete_confirmation)&&void 0})),e.fn.slider&&e("div.app-ui-slider").each((function(){var n=e(this).data("target-id");if(n){var i=e("#"+n),t=i.val(),s=e(this).data("max")||100,a=e(this).data("min")||0;e(this).slider({value:t,min:a,max:s,slide:function(e,n){i.val(n.value)}})}})),columns.saveManageColumnsState=function(){var n=this.hidden();e.post(ajaxurl,{action:"hidden-columns",hidden:n,screenoptionnonce:e("#screenoptionnonce").val(),page:pagenow,tab:e("input[name=app-current-tab]").val()})}}));